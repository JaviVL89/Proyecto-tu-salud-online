<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="estilos/estilos_especialidades.css" />
    <link rel="icon" href="imagenes/favicon.png" type="image/png" />
    <title>Gestión de citas - CitaSalud</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #3498db; /* color de fondo más claro */
      }

      .container {
        background-color: #fff; /* fondo blanco del contenedor */
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* sombra suave */
        border-radius: 10px; /* bordes redondeados */
      }

      h1 {
        color: #007bff; /* color del encabezado */
      }

      .form-control {
        border-radius: 5px; /* bordes redondeados para los campos de entrada */
      }

      .btn-primary {
        background-color: #007bff; /* fondo del botón principal */
        border: none; /* sin borde */
      }

      .btn-primary:hover {
        background-color: #0056b3; /* cambio de color al pasar el ratón */
      }
    </style>
  </head>
  <header>
    <div class="logo">
      <a href="principal.html">
        <img
          src="imagenes/logo-removebg.png"
          alt="Logo de la empresa"
          class="logo"
          style="max-width: 100px"
        />
      </a>
    </div>
    <nav>
      <ul>
        <li><a href="especialidades.html">Especialidades</a></li>
        <li><a href="gestion_citas.html">Gestión de citas</a></li>
        <li><a href="contacto.html">Contacto</a></li>
        <li><a href="login.html">Login</a></li>
      </ul>
    </nav>

    <div class="search">
      <input type="text" placeholder="Buscar" class="search-input" />
    </div>

    <div class="social-links">
      <a href="#" target="_blank" class="social-icon"
        ><img src="imagenes/icons8-facebook-48.png" alt="Facebook"
      /></a>
      <a href="#" target="_blank" class="social-icon"
        ><img src="imagenes/icons8-twitterx-50.png" alt="Twitter"
      /></a>
      <a href="#" target="_blank" class="social-icon"
        ><img src="imagenes/icons8-instagram-48.png" alt="Instagram"
      /></a>
    </div>
  </header>

  <body class="text-center">
    <div class="container mt-5 p-4">
      <h1 class="mb-4">Gestión de citas</h1>

      <div id="formularioContainer">
        <!-- formulario de reserva -->
        <form id="reservaForm" action="#" method="post" class="mx-auto col-md-6">
          <!-- campo de nombre -->
          <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombre" name="nombre" required />
          </div>

          <!-- campo de apellidos -->
          <div class="mb-3">
            <label for="apellidos" class="form-label">Apellidos</label>
            <input type="text" class="form-control" id="apellidos" name="apellidos" required />
          </div>

          <!-- campo para el correo -->
          <div class="mb-3">
            <label for="correo" class="form-label">Correo Electrónico</label>
            <input type="email" class="form-control" id="correo" name="correo" required />
          </div>

          <!-- campo de especialidad -->
          <div class="mb-3">
            <label for="especialidad" class="form-label">Especialidad</label>
            <select class="form-select" id="especialidad" name="especialidad" required>
              <option value="" disabled selected>Seleccione una especialidad</option>
              <option value="Medicina general">MEDICINA GENERAL</option>
              <option value="Alergología">ALERGOLOGÍA</option>
              <option value="Dermatología">DERMATOLOGÍA</option>
              <option value="Cardiología">CARDIOLOGÍA</option>
              <option value="Oftalmología">OFTALMOLOGÍA</option>
              <option value="Otorrinolaringología">OTORRINOLARINGOLOGÍA</option>
              <option value="Endocrinologia y nutrición">ENDOCRINOLOGÍA Y NUTRICIÓN</option>
              <option value="Fisioterapia">FISIOTERAPIA</option>
            </select>
          </div>

          <!-- campo de fecha -->
          <div class="mb-3">
            <label for="fecha" class="form-label">Fecha</label>
            <input type="date" class="form-control" id="fecha" name="fecha" required />
          </div>

          <!-- el campo de la hora depende de la fecha -->
          <div class="mb-3">
            <label for="hora" class="form-label">Hora</label>
            <select class="form-select" id="hora" name="hora" required disabled>
              <option value="" disabled selected>Seleccione una fecha primero</option>
            </select>
          </div>
          <div class="row justify-content-center">
            <div class="col-md-6 mb-3">
              <label for="numero_tarjeta" class="form-label">Número de Tarjeta:</label>
              <input
                type="text"
                class="form-control"
                id="numero_tarjeta"
                name="numero_tarjeta"
                required
              />
            </div>

            <div class="col-md-3 mb-3">
              <label for="fecha_caducidad" class="form-label">Caducidad:</label>
              <input
                type="text"
                class="form-control"
                id="fecha_caducidad"
                name="fecha_caducidad"
                required
              />
            </div>

            <div class="col-md-3 mb-3">
              <label for="cvv" class="form-label">CVV:</label>
              <input type="text" class="form-control" id="cvv" name="cvv" required />
            </div>
          </div>

          <!-- botón de reservar citas -->
          <button type="submit" class="btn btn-primary btn-block">Reservar</button>
        </form>
      </div>

      <div id="reservaInfoContainer" style="display: none"></div>
    </div>
    <script>
      document.getElementById("reservaForm").addEventListener("submit", function (event) {
        // evita el envío del formulario de forma predeterminada
        event.preventDefault();

        // obtiene los valores del formulario
        var nombre = document.getElementById("nombre").value;
        var apellidos = document.getElementById("apellidos").value;
        var correo = document.getElementById("correo").value;
        var especialidad = document.getElementById("especialidad").value;
        var fecha = document.getElementById("fecha").value;
        var hora = document.getElementById("hora").value;

        // construye el mensaje de confirmación con estilos de Bootstrap
        var mensaje =
          '<div class="alert alert-success" role="alert">' +
          '<h4 class="alert-heading">Reserva confirmada</h4>' +
          '<p class="mb-0">Nombre: <strong>' +
          nombre +
          " " +
          apellidos +
          "</strong></p>" +
          '<p class="mb-0">Correo Electrónico: <strong>' +
          correo +
          "</strong></p>" +
          '<p class="mb-0">Especialidad: <strong>' +
          especialidad +
          "</strong></p>" +
          '<p class="mb-0">Fecha: <strong>' +
          fecha +
          "</strong></p>" +
          '<p class="mb-0">Hora: <strong>' +
          hora +
          "</strong></p>" +
          "</div>";

        // oculta el contenedor del formulario y muestra el contenedor de la información de la reserva
        document.getElementById("formularioContainer").style.display = "none";
        document.getElementById("reservaInfoContainer").style.display = "block";

        // muestra el mensaje en el elemento con id reservaInfoContainer
        document.getElementById("reservaInfoContainer").innerHTML = mensaje;
      });
    </script>

    <!-- script para habilitar/deshabilitar el campo de hora según la fecha seleccionada -->
    <script>
      document.getElementById("fecha").addEventListener("change", function () {
        // obtiene la fecha seleccionada
        var selectedDate = this.value;

        // obtiene el campo de hora
        var horaField = document.getElementById("hora");

        // habilitar/deshabilitar el campo de hora según si se seleccionó una fecha
        horaField.disabled = !selectedDate;

        // limpia las opciones existentes en el campo de hora
        horaField.innerHTML =
          '<option value="" disabled selected>Selecciona una fecha primero</option>';

        // agrega opciones de hora
        if (selectedDate) {
          for (var i = 9; i <= 17; i++) {
            horaField.innerHTML += '<option value="' + i + ':00">' + i + ":00</option>";
          }
        }
      });
    </script>
    <footer class="bg-light text-center p-3">
      <p>&copy; 2023 CitaSalud | Todos los derechos reservados</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
